/* ─── RESET ───────────────────────────────────────────────────────────────────────────── */

*, *::before, *::after {
    box-sizing: border-box;
  }
  * {
    margin: 0;
  }
  body {
    -webkit-font-smoothing: antialiased;
  }
  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
  }
  input, button, textarea, select {
    font: inherit;
  }
  p, h1, h2, h3, h4, h5, h6 {
    overflow-wrap: break-word;
  }
  p, small {
    text-wrap: balance;
  }
  h1, h2, h3, h4, h5, h6 {
    text-wrap: balance;
  }
  
  /* ─── VARIABLES ──────────────────────────────────────────────────────────────────────── */
  
  :root {
    --color-content-primary: #000000;
    --color-surface-primary: #F4F4F8;
  
    /* animation timing */
    --anim-base-time: 100ms;
    --anim-scale-factor: 130%;
    --anim-skew-factor: 7deg;
  }
  
  html.darkmode {
    --color-content-primary: #ff0000;
    --color-surface-primary: #000000;
  }
  
  /* ─── FONTS ───────────────────────────────────────────────────────────────────────────── */
  
  @font-face {
    font-family: "GT Alpina";
    src: url("assets/GT-Alpina-Condensed-Light-Trial.otf") format("opentype");
  }
  @font-face {
    font-family: "GT Alpina Italic";
    src: url("assets/GT-Alpina-Condensed-Light-Italic-Trial.otf") format("opentype");
  }
  @font-face {
    font-family: "GT Alpina Typewriter";
    src: url("assets/GT-Alpina-Typewriter-Regular-Trial.otf") format("opentype");
  }
  
  /* ─── ANIMATIONS ─────────────────────────────────────────────────────────────────────── */
  
  @keyframes flash {
    50% {
      opacity: 0;
    }
  }
  
  @keyframes skew-left {
    0% {
      transform: skew(0deg, 0) scale(100%, 100%);
      transform-origin: left center;
    }
    10% {
      transform: skew(calc(-1 * var(--anim-skew-factor)), 0) scale(var(--anim-scale-factor), 100%);
      transform-origin: left center;
    }
    100% {
      transform: skew(0deg, 0) scale(100%, 100%);
      transform-origin: left center;
    }
  }
  
  @keyframes skew-right {
    0% {
      transform: skew(0deg, 0) scale(100%, 100%);
      transform-origin: right center;
    }
    10% {
      transform: skew(var(--anim-skew-factor), 0) scale(var(--anim-scale-factor), 100%);
      transform-origin: right center;
    }
    100% {
      transform: skew(0deg, 0) scale(100%, 100%);
      transform-origin: right center;
    }
  }
  
  @keyframes load-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  
  /* ─── GLOBAL STYLES ──────────────────────────────────────────────────────────────────── */
  
  body {
    font-family: "GT Alpina", Times, serif;
    color: var(--color-content-primary);
    background: var(--color-surface-primary);
    font-feature-settings: 'ss03' on;
  }
  
  h1, h2, h3, h4, h5, h6, small, p {
    opacity: 0;
    animation: load-in 2.5s 0.5s ease-in forwards;
  }
  
  svg path {
    opacity: 0;
  }
  
  svg path:nth-last-of-type(1) {
    animation: load-in 0.5s 300ms step-start forwards;
  }
  svg path:nth-last-of-type(2) {
    animation: load-in 0.5s 350ms step-start forwards;
  }
  svg path:nth-last-of-type(3) {
    animation: load-in 0.5s 400ms step-start forwards;
  }
  svg path:nth-last-of-type(4) {
    animation: load-in 0.5s 450ms step-start forwards;
  }
  svg path:nth-last-of-type(5) {
    animation: load-in 0.5s 500ms step-start forwards;
  }
  svg path:nth-last-of-type(6) {
    animation: load-in 0.5s 550ms step-start forwards;
  }
  
  /* Ensure SVG fills with the current text color */
  svg path {
    fill: var(--color-content-primary);
  }
  
  /* ─── LAYOUT ─────────────────────────────────────────────────────────────────────────── */
  
  main {
    width: 100vw;
    min-height: 100svh;
    display: flex;
  }
  
  /* Each “section” is 50% width, absolutely positioned for sliding/skew effect */
  main > section {
    width: 50%;
    min-height: 100svh;
    position: absolute;
    top: 0;
    left: 0;
    padding: 0.75rem;
    transition: transform calc(var(--anim-base-time) * 2) ease-out;
  }
  
  /* Left panel (logo + colophon) */
  .col-a {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.col-a svg {
    width: 100%;
    height: auto;
    margin-bottom: .75rem;
}

.col-b {
    display: flex;
    flex-direction: column;
    justify-content: end;
}

.col-b svg {
    width: 100%;
    height: auto;
}

.col-b .content {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    padding-bottom: 1.5rem;
}

  /* When body.left: left panel is off-screen; right panel visible */
  body.left .col-a {
    transform: translate(100%, 0);
  }
  body.left .col-b {
    transform: translate(0, 0);
  }
  /* When body.right: flip sides */
  body.right .col-a {
    transform: translate(0, 0);
  }
  body.right .col-b {
    transform: translate(100%, 0);
  }
  
  /* Skew animations for SVG logos & text */
  body.left .logo.first > svg,
  body.right .logo.last > svg,
  body.right main > section > *:not(.logo) {
    animation: skew-right forwards calc(var(--anim-base-time) * 3) ease-out;
  }
  body.right .logo.first > svg,
  body.left .logo.last > svg,
  body.left main > section > *:not(.logo) {
    animation: skew-left forwards calc(var(--anim-base-time) * 3) ease-out;
  }
  
  /* Typography */
  h1, h2, h3, h4, h5, h6, p {
    font-size: 1.5rem;
    line-height: 1.1;
    font-weight: 300;
    letter-spacing: -0.008rem;
    padding-bottom: 0.25rem;
  }
  
  /* Visually hide the main <h1> so screen readers still read it but it doesn’t show */
  h1 {
    visibility: hidden;
    width: 0;
    height: 0;
    text-overflow: hidden;
    text-indent: -99999px;
    padding: 0;
  }
  
  /* Section headings (e.g. “About”, “Features”) use the italic font */
  em, h3 {
    font-family: "GT Alpina Italic", Times, serif;
    font-style: normal;
  }
  
  /* Small labels (like colophon) use the typewriter font */
  small {
    font-family: "GT Alpina Typewriter", Courier, monospace;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.031rem;
  }
  
  /* Remove default list styles */
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    font-size: 1.5rem;
    line-height: 1.1;
    letter-spacing: -0.008rem;
    padding-bottom: 0.25rem;
  }
  li:last-child {
    padding-bottom: 0;
  }
  
  /* Links (including install button) use the same “flash on hover” */
  a {
    color: inherit;
    text-decoration: none;
  }
  a:hover {
    animation: flash 0.2s step-start infinite;
    cursor: crosshair;
  }
  
  /* ─── INSTALL BUTTON STYLING ────────────────────────────────────────────────────────── */
  
  .install-btn {
    /*display: inline-block; */
    background: var(--color-surface-primary);
    color: var(--color-content-primary);
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 500;
    transition: transform 0.2s ease;
  }
  .install-btn:hover {
    transform: translateY(-1px);
    background: #222;
  }
  
  /* ─── MEDIA QUERIES (for mobile) ──────────────────────────────────────────────────────── */
  
  @media screen and (max-width: 600px) {
    :root {
      --anim-scale-factor: 120%;
      --anim-skew-factor: 5deg;
    }
    main > section {
      width: 65%;
    }
    html {
      font-size: 75%;
    }
    .hide-large {
      display: initial;
    }
    .hide-small {
      display: none;
    }
    .about p {
        text-wrap: wrap !important;
    }

    .colophon small {
        transform: rotate(-90deg) !important;
    }
  }
  